{"ast":null,"code":"import React from\"react\";import Layout from\"../components/Layout\";import{Row,Col,Image}from\"react-bootstrap\";import{randomAvatar}from\"../utils\";import useSWR from\"swr\";import{fetcher}from\"../helpers/axios\";import{getUser}from\"../hooks/user.actions\";import Post from\"../components/posts/Post\";import CreatePost from\"../components/posts/CreatePost\";import ProfileCard from\"../components/profile/ProfileCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _posts$data;const posts=useSWR(\"api/post/\",fetcher,{refreshInterval:10000});const profiles=useSWR(\"api/user/?limit=5\",fetcher);const user=getUser();if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading!\"});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-evenly\",children:[/*#__PURE__*/_jsxs(Col,{sm:7,children:[/*#__PURE__*/_jsxs(Row,{className:\"border rounded  align-items-center\",children:[/*#__PURE__*/_jsx(Col,{className:\"flex-shrink-1\",children:/*#__PURE__*/_jsx(Image,{src:user.avatar,roundedCircle:true,width:52,height:52,className:\"my-2\"})}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"flex-grow-1\",children:/*#__PURE__*/_jsx(CreatePost,{refresh:posts.mutate})})]}),/*#__PURE__*/_jsx(Row,{className:\"my-4\",children:(_posts$data=posts.data)===null||_posts$data===void 0?void 0:_posts$data.results.map((post,index)=>/*#__PURE__*/_jsx(Post,{post:post,refresh:posts.mutate},index))})]}),/*#__PURE__*/_jsxs(Col,{sm:3,className:\"border rounded py-4 h-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-weight-bold text-center\",children:\"Suggested people\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column\",children:profiles.data&&profiles.data.results.map((profile,index)=>/*#__PURE__*/_jsx(ProfileCard,{user:profile},index))})]})]})});}export default Home;","map":{"version":3,"names":["React","Layout","Row","Col","Image","randomAvatar","useSWR","fetcher","getUser","Post","CreatePost","ProfileCard","jsx","_jsx","jsxs","_jsxs","Home","_posts$data","posts","refreshInterval","profiles","user","children","className","sm","src","avatar","roundedCircle","width","height","refresh","mutate","data","results","map","post","index","profile"],"sources":["/Users/yashrajsingh/Django App/backend/momento/src/pages/Home.jsx"],"sourcesContent":["import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport { Row, Col, Image } from \"react-bootstrap\";\nimport { randomAvatar } from \"../utils\";\nimport useSWR from \"swr\";\nimport { fetcher } from \"../helpers/axios\";\nimport { getUser } from \"../hooks/user.actions\";\nimport Post from \"../components/posts/Post\";\n\nimport CreatePost from \"../components/posts/CreatePost\";\nimport ProfileCard from \"../components/profile/ProfileCard\";\n\n\nfunction Home() {\n\n  const posts = useSWR(\"api/post/\", fetcher, {\n    refreshInterval: 10000,\n  });\n\n  const profiles = useSWR(\"api/user/?limit=5\", fetcher);\n\n  const user = getUser();\n\n  if (!user) {\n    return <div>Loading!</div>;\n  }\n\n  return (\n    <Layout>\n      <Row className=\"justify-content-evenly\">\n        <Col sm={7}>\n          <Row className=\"border rounded  align-items-center\">\n            <Col className=\"flex-shrink-1\">\n              <Image\n                src={user.avatar}\n                roundedCircle\n                width={52}\n                height={52}\n                className=\"my-2\"\n              />\n            </Col>\n            <Col sm={10} className=\"flex-grow-1\">\n              <CreatePost refresh={posts.mutate} />\n            </Col>\n          </Row>\n          <Row className=\"my-4\">\n            {posts.data?.results.map((post, index) => (\n              <Post key={index} post={post} refresh={posts.mutate} />\n            ))}\n          </Row>\n        </Col>\n        <Col sm={3} className=\"border rounded py-4 h-50\">\n          <h4 className=\"font-weight-bold text-center\">Suggested people</h4>\n          <div className=\"d-flex flex-column\">\n            {profiles.data &&\n              profiles.data.results.map((profile, index) => (\n                <ProfileCard key={index} user={profile} />\n              ))}\n          </div>\n        </Col>\n      </Row>\n    </Layout>\n  );\n}\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}