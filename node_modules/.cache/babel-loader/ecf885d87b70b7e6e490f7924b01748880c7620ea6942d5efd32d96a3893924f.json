{"ast":null,"code":"import React,{useState}from\"react\";import{Form,Button}from\"react-bootstrap\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useUserActions}from\"../../hooks/user.actions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegistrationForm(){const navigate=useNavigate();const[validated,setValidated]=useState(false);const[form,setForm]=useState({username:\"\",email:\"\",password:\"\",first_name:\"\",last_name:\"\",bio:\"\"});const[error,setError]=useState(null);const userActions=useUserActions();const handleSubmit=event=>{event.preventDefault();const registrationForm=event.currentTarget;if(registrationForm.checkValidity()===false){event.stopPropagation();}setValidated(true);const data={username:form.username,password:form.password,email:form.email,first_name:form.first_name,last_name:form.last_name,bio:form.bio};userActions.register(data).catch(err=>{if(err.message){setError(err.request.response);}});axios.post(\"https://ed-5827941652496384.educative.run/api/auth/register/\",data).then(res=>{// Registering the account and tokens in the\n// store\nlocalStorage.setItem(\"auth\",JSON.stringify({access:res.data.access,refresh:res.data.refresh,user:res.data.user}));navigate(\"/\");}).catch(err=>{if(err.message){setError(err.request.response);}});};return/*#__PURE__*/_jsxs(Form,{id:\"registration-form\",className:\"border p-4 rounded\",noValidate:true,validated:validated,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.first_name,onChange:e=>setForm({...form,first_name:e.target.value}),required:true,type:\"text\",placeholder:\"Enter first name\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This file is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last name\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.last_name,onChange:e=>setForm({...form,last_name:e.target.value}),required:true,type:\"text\",placeholder:\"Enter last name\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This file is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.username,onChange:e=>setForm({...form,username:e.target.value}),required:true,type:\"text\",placeholder:\"Enter username\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"This file is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.email,onChange:e=>setForm({...form,email:e.target.value}),required:true,type:\"email\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a valid email.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.password,minLength:\"8\",onChange:e=>setForm({...form,password:e.target.value}),required:true,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a valid password.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Bio\"}),/*#__PURE__*/_jsx(Form.Control,{value:form.bio,onChange:e=>setForm({...form,bio:e.target.value}),as:\"textarea\",rows:3,placeholder:\"A simple bio ... (Optional)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-content text-danger\",children:error&&/*#__PURE__*/_jsx(\"p\",{children:error})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]});}export default RegistrationForm;","map":{"version":3,"names":["React","useState","Form","Button","axios","useNavigate","useUserActions","jsx","_jsx","jsxs","_jsxs","RegistrationForm","navigate","validated","setValidated","form","setForm","username","email","password","first_name","last_name","bio","error","setError","userActions","handleSubmit","event","preventDefault","registrationForm","currentTarget","checkValidity","stopPropagation","data","register","catch","err","message","request","response","post","then","res","localStorage","setItem","JSON","stringify","access","refresh","user","id","className","noValidate","onSubmit","children","Group","Label","Control","value","onChange","e","target","required","type","placeholder","Feedback","minLength","as","rows","variant"],"sources":["/Users/yashrajsingh/Django App/momento/src/components/authentication/RegistrationForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useUserActions } from \"../../hooks/user.actions\";\n\nfunction RegistrationForm() {\n  const navigate = useNavigate();\n  const [validated, setValidated] = useState(false);\n  const [form, setForm] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    bio: \"\",\n  });\n  const [error, setError] = useState(null);\n  const userActions = useUserActions();\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const registrationForm = event.currentTarget;\n\n    if (registrationForm.checkValidity() === false) {\n      event.stopPropagation();\n    }\n\n    setValidated(true);\n\n    const data = {\n      username: form.username,\n      password: form.password,\n      email: form.email,\n      first_name: form.first_name,\n      last_name: form.last_name,\n      bio: form.bio,\n    };\n\n    userActions.register(data).catch((err) => {\n      if (err.message) {\n        setError(err.request.response);\n      }\n    });\n\n    axios\n      .post(\"https://ed-5827941652496384.educative.run/api/auth/register/\", data)\n      .then((res) => {\n        // Registering the account and tokens in the\n        // store\n        localStorage.setItem(\n          \"auth\",\n          JSON.stringify({\n            access: res.data.access,\n            refresh: res.data.refresh,\n            user: res.data.user,\n          })\n        );\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        if (err.message) {\n          setError(err.request.response);\n        }\n      });\n  };\n\n  return (\n    <Form\n      id=\"registration-form\"\n      className=\"border p-4 rounded\"\n      noValidate\n      validated={validated}\n      onSubmit={handleSubmit}\n    >\n      <Form.Group className=\"mb-3\">\n        <Form.Label>First Name</Form.Label>\n        <Form.Control\n          value={form.first_name}\n          onChange={(e) => setForm({ ...form, first_name: e.target.value })}\n          required\n          type=\"text\"\n          placeholder=\"Enter first name\"\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          This file is required.\n        </Form.Control.Feedback>\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Last name</Form.Label>\n        <Form.Control\n          value={form.last_name}\n          onChange={(e) => setForm({ ...form, last_name: e.target.value })}\n          required\n          type=\"text\"\n          placeholder=\"Enter last name\"\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          This file is required.\n        </Form.Control.Feedback>\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          value={form.username}\n          onChange={(e) => setForm({ ...form, username: e.target.value })}\n          required\n          type=\"text\"\n          placeholder=\"Enter username\"\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          This file is required.\n        </Form.Control.Feedback>\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Email address</Form.Label>\n        <Form.Control\n          value={form.email}\n          onChange={(e) => setForm({ ...form, email: e.target.value })}\n          required\n          type=\"email\"\n          placeholder=\"Enter email\"\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          Please provide a valid email.\n        </Form.Control.Feedback>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          value={form.password}\n          minLength=\"8\"\n          onChange={(e) => setForm({ ...form, password: e.target.value })}\n          required\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          Please provide a valid password.\n        </Form.Control.Feedback>\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Bio</Form.Label>\n        <Form.Control\n          value={form.bio}\n          onChange={(e) => setForm({ ...form, bio: e.target.value })}\n          as=\"textarea\"\n          rows={3}\n          placeholder=\"A simple bio ... (Optional)\"\n        />\n      </Form.Group>\n\n      <div className=\"text-content text-danger\">{error && <p>{error}</p>}</div>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default RegistrationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}