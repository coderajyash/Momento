{"ast":null,"code":"import React,{useState}from\"react\";import{Button,Modal,Form,Dropdown}from\"react-bootstrap\";import axiosService from\"../../helpers/axios\";import Toaster from\"../Toaster\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UpdatePost(props){const{post,refresh}=props;const[show,setShow]=useState(false);const[showToast,setShowToast]=useState(false);const[validated,setValidated]=useState(false);const[form,setForm]=useState({author:post.author.id,body:post.body});const handleClose=()=>setShow(false);const handleShow=()=>setShow(true);const handleSubmit=event=>{event.preventDefault();const updatePostForm=event.currentTarget;if(updatePostForm.checkValidity()===false){event.stopPropagation();}setValidated(true);const data={author:form.author,body:form.body};axiosService.put(`api/post/${post.id}/`,data).then(()=>{handleClose();setShowToast(true);refresh();}).catch(error=>{console.log(error);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleShow,children:\"Modify\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"border-0\",children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Update Post\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"border-0\",children:/*#__PURE__*/_jsx(Form,{noValidate:true,validated:validated,onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{name:\"body\",value:form.body,onChange:e=>setForm({...form,body:e.target.value}),as:\"textarea\",rows:3})})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmit,children:\"Modify\"})})]}),/*#__PURE__*/_jsx(Toaster,{title:\"Success!\",message:\"Post updated \\uD83D\\uDE80\",type:\"success\",showToast:showToast,onClose:()=>setShowToast(false)})]});}export default UpdatePost;","map":{"version":3,"names":["React","useState","Button","Modal","Form","Dropdown","axiosService","Toaster","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UpdatePost","props","post","refresh","show","setShow","showToast","setShowToast","validated","setValidated","form","setForm","author","id","body","handleClose","handleShow","handleSubmit","event","preventDefault","updatePostForm","currentTarget","checkValidity","stopPropagation","data","put","then","catch","error","console","log","children","Item","onClick","onHide","Header","closeButton","className","Title","Body","noValidate","onSubmit","Group","Control","name","value","onChange","e","target","as","rows","Footer","variant","title","message","type","onClose"],"sources":["/Users/yashrajsingh/Django App/momento/src/components/posts/UpdatePost.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Modal, Form, Dropdown } from \"react-bootstrap\";\nimport axiosService from \"../../helpers/axios\";\nimport Toaster from \"../Toaster\";\n\nfunction UpdatePost(props) {\n  const { post, refresh } = props;\n  const [show, setShow] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [validated, setValidated] = useState(false);\n  const [form, setForm] = useState({\n    author: post.author.id,\n    body: post.body,\n  });\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const updatePostForm = event.currentTarget;\n\n    if (updatePostForm.checkValidity() === false) {\n      event.stopPropagation();\n    }\n\n    setValidated(true);\n\n    const data = {\n      author: form.author,\n      body: form.body,\n    };\n\n    axiosService\n      .put(`api/post/${post.id}/`, data)\n      .then(() => {\n        handleClose();\n        setShowToast(true);\n        refresh();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <Dropdown.Item onClick={handleShow}>Modify</Dropdown.Item>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton className=\"border-0\">\n          <Modal.Title>Update Post</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"border-0\">\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Control\n                name=\"body\"\n                value={form.body}\n                onChange={(e) => setForm({ ...form, body: e.target.value })}\n                as=\"textarea\"\n                rows={3}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={handleSubmit}>\n            Modify\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Toaster\n        title=\"Success!\"\n        message=\"Post updated ðŸš€\"\n        type=\"success\"\n        showToast={showToast}\n        onClose={() => setShowToast(false)}\n      />\n    </>\n  );\n}\n\nexport default UpdatePost;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}