{"ast":null,"code":"import React,{useContext}from\"react\";import{format}from\"timeago.js\";import{LikeOutlined,LikeFilled}from\"@ant-design/icons\";import{Image,Card,Dropdown}from\"react-bootstrap\";import{randomAvatar}from\"../../utils\";import axiosService from\"../../helpers/axios\";import{getUser}from\"../../hooks/user.actions\";import UpdateComment from\"./UpdateComment\";import{Context}from\"../Layout\";import MoreToggleIcon from\"../MoreToggleIcon\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Comment(props){const{postId,comment,refresh}=props;const{setToaster}=useContext(Context);const user=getUser();const handleLikeClick=action=>{axiosService.post(`api/post/${postId}/comment/${comment.id}/${action}/`).then(()=>{refresh();}).catch(err=>console.error(err));};const handleDelete=()=>{axiosService.delete(`api/post/${postId}/comment/${comment.id}/`).then(()=>{setToaster({type:\"danger\",message:\"Comment deleted ðŸš€\",show:true,title:\"Comment Deleted\"});refresh();}).catch(()=>{setToaster({type:\"warning\",message:\"Comment deleted ðŸš€\",show:true,title:\"Comment Deleted\"});});};return/*#__PURE__*/_jsxs(Card,{className:\"rounded-3 my-2\",children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{className:\"d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(Image,{src:comment.author.avatar,roundedCircle:true,width:48,height:48,className:\"me-2 border border-primary border-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-start align-self-center mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fs-6 m-0\",children:comment.author.first_name+' '+comment.author.last_name}),/*#__PURE__*/_jsx(\"p\",{className:\"fs-6 fw-lighter\",children:/*#__PURE__*/_jsx(\"small\",{children:format(comment.created)})})]})]}),user.name===comment.author.name&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{as:MoreToggleIcon}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsx(UpdateComment,{comment:comment,refresh:refresh,postId:postId}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleDelete,className:\"text-danger\",children:\"Delete\"})]})]})})]}),/*#__PURE__*/_jsx(Card.Text,{children:comment.body}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(LikeFilled,{style:{color:\"#fff\",backgroundColor:\"#0D6EFD\",borderRadius:\"50%\",width:\"18px\",height:\"18px\",fontSize:\"75%\",padding:\"2px\",margin:\"3px\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"ms-1 fs-6\",children:/*#__PURE__*/_jsxs(\"small\",{children:[comment.likes_count,\" like\"]})})]})})]}),/*#__PURE__*/_jsx(Card.Footer,{className:\"d-flex bg-white w-50 justify-content-between border-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(LikeOutlined,{style:{width:\"24px\",height:\"24px\",padding:\"2px\",fontSize:\"20px\",color:comment.liked?\"#0D6EFD\":\"#C4C4C4\"},onClick:()=>{if(comment.liked){handleLikeClick(\"remove_like\");}else{handleLikeClick(\"like\");}}}),/*#__PURE__*/_jsx(\"p\",{className:\"ms-1\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Like\"})})]})})]});}export default Comment;","map":{"version":3,"names":["React","useContext","format","LikeOutlined","LikeFilled","Image","Card","Dropdown","randomAvatar","axiosService","getUser","UpdateComment","Context","MoreToggleIcon","jsx","_jsx","jsxs","_jsxs","Comment","props","postId","comment","refresh","setToaster","user","handleLikeClick","action","post","id","then","catch","err","console","error","handleDelete","delete","type","message","show","title","className","children","Body","Title","src","author","avatar","roundedCircle","width","height","first_name","last_name","created","name","Toggle","as","Menu","Item","onClick","Text","body","style","color","backgroundColor","borderRadius","fontSize","padding","margin","likes_count","Footer","liked"],"sources":["/Users/yashrajsingh/Django App/momento/src/components/comments/Comment.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { format } from \"timeago.js\";\nimport { LikeOutlined, LikeFilled } from \"@ant-design/icons\";\nimport { Image, Card, Dropdown } from \"react-bootstrap\";\nimport { randomAvatar } from \"../../utils\";\nimport axiosService from \"../../helpers/axios\";\nimport { getUser } from \"../../hooks/user.actions\";\nimport UpdateComment from \"./UpdateComment\";\nimport { Context } from \"../Layout\";\nimport MoreToggleIcon from \"../MoreToggleIcon\";\n\nfunction Comment(props) {\n  const { postId, comment, refresh } = props;\n  const { setToaster } = useContext(Context);\n\n  const user = getUser();\n\n  const handleLikeClick = (action) => {\n    axiosService\n      .post(`api/post/${postId}/comment/${comment.id}/${action}/`)\n      .then(() => {\n        refresh();\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const handleDelete = () => {\n    axiosService\n      .delete(`api/post/${postId}/comment/${comment.id}/`)\n      .then(() => {\n        setToaster({\n          type: \"danger\",\n          message: \"Comment deleted ðŸš€\",\n          show: true,\n          title: \"Comment Deleted\",\n        });\n        refresh();\n      })\n      .catch(() => {\n        setToaster({\n          type: \"warning\",\n          message: \"Comment deleted ðŸš€\",\n          show: true,\n          title: \"Comment Deleted\",\n        });\n      });\n  };\n\n  return (\n    <Card className=\"rounded-3 my-2\">\n      <Card.Body>\n        <Card.Title className=\"d-flex flex-row justify-content-between\">\n          <div className=\"d-flex flex-row\">\n            <Image\n              src={comment.author.avatar}\n              roundedCircle\n              width={48}\n              height={48}\n              className=\"me-2 border border-primary border-2\"\n            />\n            <div className=\"d-flex flex-column justify-content-start align-self-center mt-2\">\n              <p className=\"fs-6 m-0\">{comment.author.first_name + ' ' + comment.author.last_name}</p>\n              <p className=\"fs-6 fw-lighter\">\n                <small>{format(comment.created)}</small>\n              </p>\n            </div>\n          </div>\n          {user.name === comment.author.name && (\n            <div>\n              <Dropdown>\n                <Dropdown.Toggle as={MoreToggleIcon}></Dropdown.Toggle>\n                <Dropdown.Menu>\n                  <UpdateComment\n                    comment={comment}\n                    refresh={refresh}\n                    postId={postId}\n                  />\n                  <Dropdown.Item onClick={handleDelete} className=\"text-danger\">\n                    Delete\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            </div>\n          )}\n        </Card.Title>\n        <Card.Text>{comment.body}</Card.Text>\n        <div className=\"d-flex flex-row justify-content-between\">\n          <div className=\"d-flex flex-row\">\n            <LikeFilled\n              style={{\n                color: \"#fff\",\n                backgroundColor: \"#0D6EFD\",\n                borderRadius: \"50%\",\n                width: \"18px\",\n                height: \"18px\",\n                fontSize: \"75%\",\n                padding: \"2px\",\n                margin: \"3px\",\n              }}\n            />\n            <p className=\"ms-1 fs-6\">\n              <small>{comment.likes_count} like</small>\n            </p>\n          </div>\n        </div>\n      </Card.Body>\n      <Card.Footer className=\"d-flex bg-white w-50 justify-content-between border-0\">\n        <div className=\"d-flex flex-row\">\n          <LikeOutlined\n            style={{\n              width: \"24px\",\n              height: \"24px\",\n              padding: \"2px\",\n              fontSize: \"20px\",\n              color: comment.liked ? \"#0D6EFD\" : \"#C4C4C4\",\n            }}\n            onClick={() => {\n              if (comment.liked) {\n                handleLikeClick(\"remove_like\");\n              } else {\n                handleLikeClick(\"like\");\n              }\n            }}\n          />\n          <p className=\"ms-1\">\n            <small>Like</small>\n          </p>\n        </div>\n      </Card.Footer>\n    </Card>\n  );\n}\n\nexport default Comment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}