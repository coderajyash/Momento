{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{Button,Modal,Form,Dropdown}from\"react-bootstrap\";import axiosService from\"../../helpers/axios\";import{Context}from\"../Layout\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UpdateComment(props){const{postId,comment,refresh}=props;const[show,setShow]=useState(false);const[validated,setValidated]=useState(false);const[form,setForm]=useState({author:comment.author.id,body:comment.body,post:postId});const{setToaster}=useContext(Context);const handleClose=()=>setShow(false);const handleShow=()=>setShow(true);const handleSubmit=event=>{event.preventDefault();const updateCommentForm=event.currentTarget;if(updateCommentForm.checkValidity()===false){event.stopPropagation();}setValidated(true);const data={author:form.author,body:form.body,post:postId};axiosService.put(`api/post/${postId}/comment/${comment.id}/`,data).then(()=>{handleClose();setToaster({type:\"success\",message:\"Comment updated ðŸš€\",show:true,title:\"Success!\"});refresh();}).catch(()=>{setToaster({type:\"danger\",message:\"An error occurred.\",show:true,title:\"Comment Error\"});});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleShow,children:\"Modify\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"border-0\",children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Update Post\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"border-0\",children:/*#__PURE__*/_jsx(Form,{noValidate:true,validated:validated,onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{name:\"body\",value:form.body,onChange:e=>setForm({...form,body:e.target.value}),as:\"textarea\",rows:3})})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmit,children:\"Modify\"})})]})]});}export default UpdateComment;","map":{"version":3,"names":["React","useState","useContext","Button","Modal","Form","Dropdown","axiosService","Context","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UpdateComment","props","postId","comment","refresh","show","setShow","validated","setValidated","form","setForm","author","id","body","post","setToaster","handleClose","handleShow","handleSubmit","event","preventDefault","updateCommentForm","currentTarget","checkValidity","stopPropagation","data","put","then","type","message","title","catch","children","Item","onClick","onHide","Header","closeButton","className","Title","Body","noValidate","onSubmit","Group","Control","name","value","onChange","e","target","as","rows","Footer","variant"],"sources":["/Users/yashrajsingh/Django App/momento/src/components/comments/UpdateComment.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Button, Modal, Form, Dropdown } from \"react-bootstrap\";\nimport axiosService from \"../../helpers/axios\";\n\nimport { Context } from \"../Layout\";\n\nfunction UpdateComment(props) {\n  const { postId, comment, refresh } = props;\n  const [show, setShow] = useState(false);\n  const [validated, setValidated] = useState(false);\n  const [form, setForm] = useState({\n    author: comment.author.id,\n    body: comment.body,\n    post: postId,\n  });\n\n  const { setToaster } = useContext(Context);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const updateCommentForm = event.currentTarget;\n\n    if (updateCommentForm.checkValidity() === false) {\n      event.stopPropagation();\n    }\n\n    setValidated(true);\n\n    const data = {\n      author: form.author,\n      body: form.body,\n      post: postId,\n    };\n\n    axiosService\n      .put(`api/post/${postId}/comment/${comment.id}/`, data)\n      .then(() => {\n        handleClose();\n        setToaster({\n          type: \"success\",\n          message: \"Comment updated ðŸš€\",\n          show: true,\n          title: \"Success!\",\n        });\n        refresh();\n      })\n      .catch(() => {\n        setToaster({\n          type: \"danger\",\n          message: \"An error occurred.\",\n          show: true,\n          title: \"Comment Error\",\n        });\n      });\n  };\n\n  return (\n    <>\n      <Dropdown.Item onClick={handleShow}>Modify</Dropdown.Item>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton className=\"border-0\">\n          <Modal.Title>Update Post</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"border-0\">\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Control\n                name=\"body\"\n                value={form.body}\n                onChange={(e) => setForm({ ...form, body: e.target.value })}\n                as=\"textarea\"\n                rows={3}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={handleSubmit}>\n            Modify\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default UpdateComment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}